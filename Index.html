<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cute Tic Tac Toe</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Fredoka', sans-serif;
      background: linear-gradient(135deg, #e8f5f0 0%, #fce4ec 50%, #fff8e1 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      gap: 20px;
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: center;
    }

    .title-x { color: #e91e8c; }
    .title-o { color: #2196f3; }
    .title-toe {
      background: #ffd54f;
      padding: 5px 15px;
      border-radius: 15px;
      color: #5d4037;
    }

    .character-container {
      position: relative;
      animation: float 2s ease-in-out infinite;
    }

    .character-container.celebrating {
      animation: jump 0.5s ease-in-out infinite;
    }

    .character-svg {
      width: 180px;
      height: 180px;
    }

    .left-hand {
      transform-origin: 70px 130px;
    }

    .right-hand {
      transform-origin: 130px 130px;
    }

    .celebrating .left-hand {
      animation: clapLeft 0.3s ease-in-out infinite;
    }

    .celebrating .right-hand {
      animation: clapRight 0.3s ease-in-out infinite;
    }

    .sparkles {
      position: absolute;
      font-size: 1.5rem;
      opacity: 0;
      pointer-events: none;
    }

    .celebrating .sparkles {
      animation: sparkle 1s ease-in-out infinite;
    }

    .sparkle-1 { top: -15px; left: -15px; animation-delay: 0s !important; }
    .sparkle-2 { top: -10px; right: 10px; animation-delay: 0.3s !important; }
    .sparkle-3 { top: 30px; right: -20px; animation-delay: 0.6s !important; }
    .sparkle-4 { top: -25px; left: 60px; animation-delay: 0.2s !important; }

    .speech-bubble {
      position: absolute;
      right: -100px;
      top: 20px;
      background: white;
      padding: 10px 15px;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      font-weight: 600;
      color: #e91e8c;
      opacity: 0;
      transform: scale(0);
      transition: all 0.3s ease;
      white-space: nowrap;
    }

    .speech-bubble::before {
      content: '';
      position: absolute;
      left: -8px;
      top: 50%;
      transform: translateY(-50%);
      border: 8px solid transparent;
      border-right-color: white;
    }

    .celebrating .speech-bubble {
      opacity: 1;
      transform: scale(1);
    }

    .status {
      font-size: 1.5rem;
      font-weight: 500;
      text-align: center;
      color: #37474f;
    }

    .status .x { color: #e91e8c; }
    .status .o { color: #2196f3; }

    .board {
      background: white;
      padding: 15px;
      border-radius: 25px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .cell {
      width: 90px;
      height: 90px;
      background: #f5f5f5;
      border: none;
      border-radius: 15px;
      font-size: 3rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .cell:hover:not(:disabled) {
      background: #e8f5e9;
      transform: scale(1.05);
    }

    .cell:disabled {
      cursor: not-allowed;
    }

    .cell.x { color: #e91e8c; }
    .cell.o { color: #2196f3; }

    .cell.winning {
      animation: wiggle 0.5s ease-in-out infinite;
      box-shadow: 0 0 0 4px #ffd54f;
    }

    .cell .mark {
      animation: bounceIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .reset-btn {
      background: linear-gradient(135deg, #e91e8c, #f48fb1);
      color: white;
      border: none;
      padding: 15px 35px;
      font-size: 1.2rem;
      font-weight: 600;
      font-family: 'Fredoka', sans-serif;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(233, 30, 140, 0.3);
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .reset-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(233, 30, 140, 0.4);
    }

    .hint {
      color: #9e9e9e;
      font-size: 0.9rem;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    @keyframes jump {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    @keyframes clapLeft {
      0%, 100% { transform: rotate(0deg) translateX(0); }
      50% { transform: rotate(15deg) translateX(12px); }
    }

    @keyframes clapRight {
      0%, 100% { transform: rotate(0deg) translateX(0); }
      50% { transform: rotate(-15deg) translateX(-12px); }
    }

    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
      50% { opacity: 1; transform: scale(1) rotate(180deg); }
    }

    @keyframes wiggle {
      0%, 100% { transform: rotate(-3deg); }
      50% { transform: rotate(3deg); }
    }

    @keyframes bounceIn {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }

    @media (max-width: 500px) {
      h1 { font-size: 1.8rem; }
      .character-svg { width: 140px; height: 140px; }
      .cell { width: 70px; height: 70px; font-size: 2.5rem; }
      .speech-bubble { right: -80px; font-size: 0.9rem; }
    }
  </style>
</head>
<body>
  <h1>
    <span class="title-x">Tic</span>-<span class="title-o">Tac</span>-<span class="title-toe">Toe</span>
  </h1>

  <div class="character-container" id="character">
    <div class="sparkles sparkle-1">‚ú®</div>
    <div class="sparkles sparkle-2">‚≠ê</div>
    <div class="sparkles sparkle-3">‚ú®</div>
    <div class="sparkles sparkle-4">üåü</div>
    
    <svg class="character-svg" viewBox="0 0 200 200">
      <!-- Left Hand -->
      <g class="left-hand">
        <ellipse cx="50" cy="130" rx="20" ry="15" fill="#f5d6ba"/>
        <ellipse cx="45" cy="125" rx="5" ry="4" fill="#ecc9a8"/>
        <ellipse cx="50" cy="120" rx="5" ry="4" fill="#ecc9a8"/>
        <ellipse cx="55" cy="125" rx="5" ry="4" fill="#ecc9a8"/>
      </g>
      
      <!-- Right Hand -->
      <g class="right-hand">
        <ellipse cx="150" cy="130" rx="20" ry="15" fill="#f5d6ba"/>
        <ellipse cx="145" cy="125" rx="5" ry="4" fill="#ecc9a8"/>
        <ellipse cx="150" cy="120" rx="5" ry="4" fill="#ecc9a8"/>
        <ellipse cx="155" cy="125" rx="5" ry="4" fill="#ecc9a8"/>
      </g>
      
      <!-- Body -->
      <ellipse cx="100" cy="140" rx="45" ry="40" fill="#f5d6ba"/>
      
      <!-- Head -->
      <circle cx="100" cy="80" r="55" fill="#f5d6ba"/>
      
      <!-- Ears -->
      <circle cx="55" cy="45" r="18" fill="#f5d6ba"/>
      <circle cx="55" cy="45" r="10" fill="#f8bbd9"/>
      <circle cx="145" cy="45" r="18" fill="#f5d6ba"/>
      <circle cx="145" cy="45" r="10" fill="#f8bbd9"/>
      
      <!-- Cheeks -->
      <ellipse cx="60" cy="95" rx="12" ry="8" fill="#f8bbd9" opacity="0.7"/>
      <ellipse cx="140" cy="95" rx="12" ry="8" fill="#f8bbd9" opacity="0.7"/>
      
      <!-- Eyes (will be swapped with JS) -->
      <g id="normal-eyes">
        <ellipse cx="80" cy="75" rx="10" ry="12" fill="#37474f"/>
        <ellipse cx="120" cy="75" rx="10" ry="12" fill="#37474f"/>
        <circle cx="83" cy="72" r="4" fill="white"/>
        <circle cx="123" cy="72" r="4" fill="white"/>
      </g>
      <g id="happy-eyes" style="display: none;">
        <path d="M 75 80 Q 85 70 95 80" stroke="#37474f" stroke-width="3" fill="none" stroke-linecap="round"/>
        <path d="M 105 80 Q 115 70 125 80" stroke="#37474f" stroke-width="3" fill="none" stroke-linecap="round"/>
      </g>
      
      <!-- Mouth -->
      <g id="normal-mouth">
        <path d="M 90 105 Q 100 115 110 105" stroke="#e91e8c" stroke-width="3" fill="none" stroke-linecap="round"/>
      </g>
      <g id="happy-mouth" style="display: none;">
        <ellipse cx="100" cy="105" rx="12" ry="10" fill="#e91e8c"/>
      </g>
      
      <!-- Nose -->
      <ellipse cx="100" cy="92" rx="5" ry="4" fill="#f48fb1"/>
    </svg>
    
    <div class="speech-bubble" id="speech-bubble">üéâ Wins!</div>
  </div>

  <div class="status" id="status">
    Player <span class="x">X</span>'s turn
  </div>

  <div class="board" id="board">
    <button class="cell" data-index="0"></button>
    <button class="cell" data-index="1"></button>
    <button class="cell" data-index="2"></button>
    <button class="cell" data-index="3"></button>
    <button class="cell" data-index="4"></button>
    <button class="cell" data-index="5"></button>
    <button class="cell" data-index="6"></button>
    <button class="cell" data-index="7"></button>
    <button class="cell" data-index="8"></button>
  </div>

  <button class="reset-btn" onclick="resetGame()">
    üîÑ New Game
  </button>

  <p class="hint">Click a cell to place your mark!</p>

  <script>
    const board = ['', '', '', '', '', '', '', '', ''];
    let currentPlayer = 'X';
    let gameOver = false;
    let winner = null;

    const winningCombos = [
      [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
      [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
      [0, 4, 8], [2, 4, 6]             // diagonals
    ];

    const cells = document.querySelectorAll('.cell');
    const statusEl = document.getElementById('status');
    const characterEl = document.getElementById('character');
    const speechBubbleEl = document.getElementById('speech-bubble');
    const normalEyes = document.getElementById('normal-eyes');
    const happyEyes = document.getElementById('happy-eyes');
    const normalMouth = document.getElementById('normal-mouth');
    const happyMouth = document.getElementById('happy-mouth');

    cells.forEach(cell => {
      cell.addEventListener('click', () => handleClick(cell));
    });

    function handleClick(cell) {
      const index = parseInt(cell.dataset.index);
      
      if (board[index] || gameOver) return;

      board[index] = currentPlayer;
      cell.innerHTML = `<span class="mark">${currentPlayer}</span>`;
      cell.classList.add(currentPlayer.toLowerCase());
      cell.disabled = true;

      const result = checkWinner();
      
      if (result.winner) {
        gameOver = true;
        winner = result.winner;
        celebrate(result.winner, result.combo);
      } else if (board.every(cell => cell !== '')) {
        gameOver = true;
        statusEl.innerHTML = "It's a draw! ü§ù";
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
        updateStatus();
      }
    }

    function checkWinner() {
      for (const combo of winningCombos) {
        const [a, b, c] = combo;
        if (board[a] && board[a] === board[b] && board[a] === board[c]) {
          return { winner: board[a], combo };
        }
      }
      return { winner: null, combo: [] };
    }

    function celebrate(winner, combo) {
      // Highlight winning cells
      combo.forEach(index => {
        cells[index].classList.add('winning');
      });

      // Update status
      const colorClass = winner.toLowerCase();
      statusEl.innerHTML = `üéâ Player <span class="${colorClass}">${winner}</span> wins! üéâ`;

      // Animate character
      characterEl.classList.add('celebrating');
      normalEyes.style.display = 'none';
      happyEyes.style.display = 'block';
      normalMouth.style.display = 'none';
      happyMouth.style.display = 'block';
      
      // Update speech bubble
      speechBubbleEl.innerHTML = `üéâ ${winner} Wins!`;

      // Disable all cells
      cells.forEach(cell => cell.disabled = true);
    }

    function updateStatus() {
      const colorClass = currentPlayer.toLowerCase();
      statusEl.innerHTML = `Player <span class="${colorClass}">${currentPlayer}</span>'s turn`;
    }

    function resetGame() {
      // Reset board state
      board.fill('');
      currentPlayer = 'X';
      gameOver = false;
      winner = null;

      // Reset cells
      cells.forEach(cell => {
        cell.innerHTML = '';
        cell.className = 'cell';
        cell.disabled = false;
      });

      // Reset character
      characterEl.classList.remove('celebrating');
      normalEyes.style.display = 'block';
      happyEyes.style.display = 'none';
      normalMouth.style.display = 'block';
      happyMouth.style.display = 'none';

      // Reset status
      updateStatus();
    }
  </script>
</body>
</html>
